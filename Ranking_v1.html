<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Ë≥áÁî£„É©„É≥„Ç≠„É≥„Ç∞</title>
  <style>
    body { font-family: sans-serif; background: #f0f0f5; text-align: center; padding: 2em; }
    h1 { font-size: 2em; margin-bottom: 1em; }
    .podium { display: flex; justify-content: center; align-items: flex-end; gap: 1em; }
    .podium__item { position: relative; width: 120px; }
    .podium__bar { width: 100%; border-radius: 8px 8px 0 0; color: white; display: flex; flex-direction: column-reverse; justify-content: flex-start; }
    .first { height: 220px; background: gold; }
    .second { height: 180px; background: silver; }
    .third { height: 140px; background: peru; }
    .label { margin-top: 8px; font-weight: bold; color: #333; }
    .balance { position: absolute; top: 8px; left: 50%; transform: translateX(-50%); background: rgba(0,0,0,0.6); padding: 4px 8px; border-radius: 4px; font-size: 0.9em; }
    @keyframes pop {
      0% { transform: translateY(40px); opacity: 0; }
      100% { transform: translateY(0); opacity: 1; }
    }
    .podium__item { opacity: 0; animation: pop 0.6s ease forwards; }
    .podium__item:nth-child(1) { animation-delay: 0.2s; }
    .podium__item:nth-child(2) { animation-delay: 0.4s; }
    .podium__item:nth-child(3) { animation-delay: 0.6s; }
  </style>
</head>
<body>
  <h1>üèÜ Ë≥áÁî£„É©„É≥„Ç≠„É≥„Ç∞ üèÜ</h1>
  <div class="podium" id="podium"></div>

  <script>
    fetch("https://YOUR_PROJECT_URL/functions/v1/getUserRanking")
      .then(r => r.json())
      .then(json => {
        if (json.status === "success") {
          const data = json.data.slice(0,3);
          const podium = document.getElementById("podium");
          const sizes = ["second","first","third"];
          data.forEach((user, idx) => {
            const div = document.createElement("div");
            div.className = "podium__item";
            div.innerHTML = `
              <div class="podium__bar ${sizes[idx]}">
                <div class="balance">¬•${Number(user.balance).toLocaleString()}</div>
              </div>
              <div class="label">${user.nickname}</div>
            `;
            podium.appendChild(div);
          });
        }
      })
      .catch(err => console.error(err));
  </script>
</body>
</html>
